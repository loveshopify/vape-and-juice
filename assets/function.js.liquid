function Ajax(){}function FakeCrop(){}function ImageShopify(){}function CountDownShopify(){}function Cart(){}function Wishlist(){this.ajax=new Ajax}function Compare(){this.ajax=new Ajax}function Filter(){this.ajax=new Ajax}function InfiniteScroll(){this.ajax=new Ajax}Ajax.showLoading=function(){$(".loader").show()},Ajax.hideLoading=function(){$(".loader").hide()},Ajax.prototype.filterAjaxClick=function(t,i,e){Shopify.queryParams&&delete Shopify.queryParams.page;var n=this.filterCreateUrl(t);history.pushState({param:Shopify.queryParams?Shopify.queryParams:""},n,n),this.loadData(n,i,e)},Ajax.prototype.filterCreateUrl=function(t){var i="";return Shopify.queryParams&&(i=$.param(Shopify.queryParams).replace(/%2B/g,"+")),t?""!=i?t+"?"+i:t:i.length>0?location.pathname+"?"+i:location.pathname},Ajax.prototype.loadData=function(t,i,e){$.ajax({type:"get",url:t,beforeSend:function(){Ajax.showLoading()},success:function(t){i(t,e),Ajax.hideLoading()},error:function(t,i){Ajax.hideLoading()}})},FakeCrop.prototype.init=function(t){var i=".tp-product-grid .grid-item .grid-image img";if(t){var e=[];t.forEach(function(t){e.push($(t).find(".grid-image img")[0])}),i=e}$(i).fakecrop({fill:!1,widthSelectorParent:".grid-item .grid-item-inner .grid-item-image",ratioWrapper:window.images_size})},ImageShopify.prototype.initAll=function(t){t?(this.initSwapImage(t),this.initColorVariant(t)):(this.initSwapImage(),this.initColorVariant())},ImageShopify.prototype.initImageConfigure=function(t){(new FakeCrop).init(t),"undefined"!=typeof SCAShopify&&$(window).width()>=768&&(SCAShopify.jQuery(document).unbind("click.fb-start"),SCAShopify.jQuery.getScript("//cdn.secomapp.com/quickview/assets/cdn/sca-qv-scripts-noconfig.js")),this.initAll(t),window.SPR&&(window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()),jQuery(".tp-product-item-price").each(function(){jQuery(this).html(jQuery(this).html().replace("from","")),jQuery(this).html(jQuery(this).html().replace("From",""))})},ImageShopify.prototype.initSwapImage=function(t){var i,e,n=".grid-image.image-swap";if(t){var o=[];t.forEach(function(t){o.push($(t).find(".grid-image.image-swap")[0])}),n=o}$(n).on("mouseenter",function(t){if(!i){e=this;var n=$(this).children().length,o=1;if(n>1){function a(t){$(e).children("img").each(function(i,e){this.style.display=i===t?"inline-block":"none"})}a(1),i=setInterval(function(){(o+=1)===n&&(o=0),a(o)},1e3)}}}).on("mouseleave",function(t){if(t.toElement)switch(t.toElement.className){case"label-sale":return;case"sca-qv-button":return void $(t.toElement).click(function(){clearInterval(i),$(e).children("img").each(function(t,i){this.style.display=0===t?"inline-block":"none"}),i=null});case"":return}clearInterval(i),$(this).children("img").each(function(t,i){this.style.display=0===t?"inline-block":"none"}),i=null})},ImageShopify.prototype.initColorVariant=function(t){var i,e=!1,n=!1,o=".item-color-swatch li";if(t){var a=[];t.forEach(function(t){$(t).find(".item-color-swatch li").each(function(){a.push(this)})}),o=a}$(o).on("mouseenter touchstart",function(t){if(!e&&!i||"touchstart"===t.type){var o=$(this).find("img").attr("data-id");if(i=$(this).parents(".grid-item"),o)i.find(".grid-image img").each(function(t,i){$(this).attr("data-id")===o?this.style.display="inline-block":this.style.display="none"});else{var a=i.find(".grid-image img")[0].clientWidth,r=i.find(".grid-image img")[0].clientHeight;i.find(".grid-image img").each(function(t,i){this.style.display="none"});var s=$(this).find("img")[0].outerHTML;i.find(".grid-image").append(s),i.find(".grid-image img").last().css({width:a,height:r,display:"inline-block"}),n=!0}e=!0}}).on("mouseleave",function(t){n&&(i.find(".grid-image img").last().remove(),n=!1,i.find(".grid-image img").each(function(t,i){this.style.display=0===t?"inline-block":"none"})),e=!1,i=null})},ImageShopify.prototype.initSetProductHeightLoadMore=function(t){t||(t=-1);var i={},e=[],n=[],o=0,a=$(".tp-des-top").length;$(".tp-des-top").map(function(t){var r=$(this).parents(".grid-item"),s=Math.round(r.offset().top);Math.abs(s-n[n.length-1])<30&&(s=n[n.length-1]);var c=$(this).outerHeight();if(i[s])c>i[s]&&(i[s]=c,o=c);else{if(e.length>0)for(var l in e){var d=e[l];$(d).css("height",o)}e=[],i[s]=c,o=c,n.push(s)}if(e.push(this),t===a-1)for(var l in e){d=e[l];$(d).css("height",o)}})},ImageShopify.prototype.initSetProductHeight=function(){},CountDownShopify.prototype.initAll=function(t){t?this.initCountDownGrid(t):this.initCountDownGrid()},CountDownShopify.prototype.initCountDownGrid=function(t){var i=".grid-item .tp-countdown .countdown-inner > div";if(t){var e=[];t.forEach(function(t){var n=$(t).find(i)[0];n&&e.push(n)}),i=e}$(i).each(function(t){var i=$(this).attr("data");$(this).countdown(i,function(t){$(this).html(t.strftime(" <span><strong>%D</strong>Days</span><span><strong>%H</strong>Hours</span><span><strong>%M</strong>Mins</span><span><strong>%S</strong>Secs</span>"))})})},Cart.prototype.initAddToCart=function(t){var i=new Ajax,e=this,n=$(".add-to-cart-btn");if(t){var o=[];t.forEach(function(t){o.push($(t).find(".add-to-cart-btn")[0])}),n=o}function a(t,n){$.ajax({type:"post",url:"/cart/add.js",data:"quantity="+n+"&id="+t,dataType:"json",beforeSend:function(){Ajax.showLoading()},success:function(t){i.filterAjaxClick(null,e.renderCart,function(){e.initRemoveToCart(),toastr.success('Product <span style="font-weight:bold">'+t.product_title+"</span> was successfully added to your cart!")})},error:function(t,i){toastr.error("Can&#39;t add to cart!"),Ajax.hideLoading()}})}$(n).click(function(t){if("disabled"!=$(this).attr("disabled")&&"submit"===$(this).attr("type")){var i=$(this).parents(".variants"),e=$(i).attr("id");e=e.match(/\d+/g);a($("#product-actions-"+e+" input[name=id]").val(),1)}return t.preventDefault(),!1}),t||($(".tp-product-action .btn-addtocart").click(function(t){if("disabled"!=$(this).attr("disabled")){var i=$(this).parents("form");if(window.addToCartVariant)a(window.addToCartVariant.id,i.find(".tp-product-quantity .js-qty input").val())}return t.preventDefault(),!1}),$(".tp-wishlist-page .wl-add").click(function(t){return a($(this).closest("form").find("input[name=id]").val(),1),t.preventDefault(),!1}),$(".sca-qv-cartbtn").click(function(t){return $(".sca-qv-cartbtn").bind("DOMSubtreeModified",function(t){!1===$(this).prop("disabled")&&i.filterAjaxClick(null,e.renderCart,function(){e.initRemoveToCart()})}),!1}))},Cart.prototype.initRemoveToCart=function(){var t=new Ajax,i=this;$(".btn-remove-cart").each(function(e){$(this).on("click",function(n){var o;o=e+1,$.ajax({type:"post",url:"/cart/change.js",data:"quantity=0&line="+o,dataType:"json",beforeSend:function(){Ajax.showLoading()},success:function(e){t.filterAjaxClick(null,i.renderCart,function(){i.initRemoveToCart(),toastr.success("Product was successfully removed from your cart!")})},error:function(t,i){toastr.error("Can&#39;t remove to cart!"),Ajax.hideLoading()}}),n.preventDefault()})})},Cart.prototype.renderCart=function(t,i){var e,n;e=$(".site-header-cart"),n=$(t).find(".site-header-cart"),e.replaceWith(n),i&&i()},Wishlist.prototype.initWishlistSaveProductId=function(){$(".tp-wishlist").click(function(){$(".loader").show();var t=$(this).data("handle"),i=[];jQuery.cookie("tp-wishlist-product-id")?(i=jQuery.cookie("tp-wishlist-product-id"),-1==(i=JSON.parse(i)).indexOf(t)&&i.push(t),jQuery.cookie("tp-wishlist-product-id",JSON.stringify(i),{expires:7,path:"/"})):(i.push(t),jQuery.cookie("tp-wishlist-product-id",JSON.stringify(i),{expires:7,path:"/"}));console.log(jQuery.cookie("tp-wishlist-product-id")),toastr.success('<span style="font-weight:bold">'+$(this).attr("data-name")+'</span>was successfully added to your<a href="/pages/wishlists">Wishlist</a>!'),$(this).addClass("checked-wishlist"),setTimeout(function(){$(".loader").hide()},500)})},Wishlist.prototype.initWishlistChecked=function(){if(jQuery.cookie("tp-wishlist-product-id")){var t=jQuery.cookie("tp-wishlist-product-id");t=JSON.parse(t),jQuery("a.tp-wishlist").each(function(){var i=$(this).data("handle");t.indexOf(i)>=0&&$(this).addClass("checked-wishlist")})}},Compare.prototype.initCompareSaveProductId=function(){$(".tp-compare").click(function(){$(".loader").show();var t=$(this).data("handle"),i=[];jQuery.cookie("tp-compare-product-id")?(i=jQuery.cookie("tp-compare-product-id"),-1==(i=JSON.parse(i)).indexOf(t)&&i.push(t),jQuery.cookie("tp-compare-product-id",JSON.stringify(i),{expires:7,path:"/"})):(i.push(t),jQuery.cookie("tp-compare-product-id",JSON.stringify(i),{expires:7,path:"/"}));toastr.success('<span style="font-weight:bold">'+$(this).attr("data-name")+' </span>was successfully added to your<a href="/pages/compare">Compare</a>!'),$(this).addClass("checked-compare"),setTimeout(function(){$(".loader").hide()},500)})},Compare.prototype.initCompareChecked=function(){if(jQuery.cookie("tp-compare-product-id")){var t=jQuery.cookie("tp-compare-product-id");t=JSON.parse(t),jQuery("a.tp-compare").each(function(){var i=$(this).data("handle");t.indexOf(i)>=0&&$(this).addClass("checked-compare")})}},Filter.prototype.initAll=function(){this.initPagination(),this.initSortBy(),this.initView(),this.initProductTag()},Filter.prototype.initPagination=function(){var t=this;$(".tp-collection-content .pagination span a").click(function(i){var e=$(this).attr("href").match(/page=\d+/g);if($(".tp-collection-content>section").length>0)var n=$(".tp-collection-content>section").offset().top-100;else n=$(".main-content").offset().top;if(e){if(Shopify.queryParams.page=parseInt(e[0].match(/\d+/g)),Shopify.queryParams.page){var o=t.ajax.filterCreateUrl();history.pushState({param:Shopify.queryParams},o,o),t.ajax.loadData(o,t.renderProductList.bind(t))}$("body,html").animate({scrollTop:n},600)}i.preventDefault()})},Filter.prototype.initSortBy=function(){var t=this;$(".tp-collection-sort .dropdown-menu li").click(function(){if(!$(this).hasClass("active")){Shopify.queryParams.sort_by=$(this).attr("data-value"),t.ajax.filterAjaxClick(null,t.renderProductList.bind(t));var i=$(this).text();$(".tp-collection-sort .dropdown-toggle").text(i),$(".tp-collection-sort .dropdown-menu li.active").removeClass("active"),$(this).addClass("active")}})},Filter.prototype.initView=function(){var t=this;$(".collection-view button").click(function(i){if(!$(this).hasClass(".change-view--active")){$(".pagination .page.current").html();Shopify.queryParams.view=$(this).attr("data-view"),t.ajax.filterAjaxClick(null,t.renderProductList.bind(t))}i.preventDefault()})},Filter.prototype.initProductTag=function(){var t=this;if($(".tp-filter-block .tp-filter-content input").click(function(i){var e=[];Shopify.queryParams.constraint&&(e=Shopify.queryParams.constraint.split("+"));var n=$(this).parents(".tp-filter-block").find("input[checked]").val(),o=$(this).parent().find("input").val(),a=e.indexOf(o);a>=0?e.splice(a,1):e.push(o);var r=e.indexOf(n);r>=0&&e.splice(r,1),e.length?Shopify.queryParams.constraint=e.join("+"):delete Shopify.queryParams.constraint,t.ajax.filterAjaxClick(null,t.renderProductList.bind(t)),i.preventDefault()}),$(".tp-sidebar-collection .tp-filter-block").length>0&&Shopify.queryParams.constraint){var i=$(".tp-sidebar-collection .tp-filter-block").last();$("<div class='reset-filter'>Reset All Filter</div>").insertAfter(i)}$(".tp-sidebar-collection .reset-filter").click(function(i){delete Shopify.queryParams.constraint,t.ajax.filterAjaxClick(null,t.renderProductList.bind(t)),i.preventDefault()})},Filter.prototype.initViewMoreTagsBlock=function(){var t=$(".block-tags .tp-sidebar-content ul");t.height()>230&&(t.attr("style","height: 230px; overflow: hidden;"),t.parent().append('<a href="#" class="more-tags">View more</a>'),$("a.more-tags").click(function(i){if(i.preventDefault(),"View more"==$(this).text())return t.removeAttr("style"),void $(this).text("View less");"View less"==$(this).text()&&(t.attr("style","height: 230px; overflow: hidden;"),$(this).text("View more"))}))},Filter.prototype.initLoadMore=function(t){window.ias=jQuery.ias({container:"."+t,item:".grid-item",pagination:"."+t+" .pagination",next:".next a"}),window.ias.extension(new IASSpinnerExtension({})),window.ias.extension(new IASNoneLeftExtension({text:"There are no more pages left to load."})),window.ias.on("rendered",function(t){var e=new ImageShopify;e.initImageConfigure(t),(new CountDownShopify).initAll(t),(new Cart).initAddToCart(t),(new Wishlist).initWishlist(),(new Compare).initCompare();var n=$(".tp-collection-content > section")[0].className;setTimeout(function(){"tp-product-grid"===n?e.initSetProductHeightLoadMore(i-1):e.initSetProductHeight()},420)});var i=0;window.ias.on("render",function(){i=$(".tp-des-top").length})},Filter.prototype.renderProductList=function(t,i){var e=$(".tp-collection-content > section")[0].className,n=$(t).find(".tp-collection-content > section")[0].className,o=$(".tp-collection-content ."+e),a=$(t).find(".tp-collection-content ."+n);o.toggleClass(e,n),o.replaceWith(a);var r=$(".tp-collection-content .tp-pagination-bottom .pagination"),s=$(t).find(".tp-collection-content .tp-pagination-bottom .pagination");r.length>0?s.length>0?r.replaceWith(s):r.remove():s.length>0&&$(".tp-collection-content .tp-pagination-bottom").append(s),this.initPagination();var c=$(".tp-collection-toolbar #SortBy"),l=$(t).find(".tp-collection-toolbar #SortBy");c.replaceWith(l),this.initSortBy();var d=$(".tp-collection-toolbar .collection-view"),p=$(t).find(".tp-collection-toolbar .collection-view");d.replaceWith(p),this.initView();var u=$(".tp-collection-filter"),h=$(t).find(".tp-collection-filter");u.replaceWith(h),this.initProductTag();var f=$(".block-tags"),g=$(t).find(".block-tags");f.replaceWith(g),this.initViewMoreTagsBlock(),(new CountDownShopify).initAll();var m=new ImageShopify;m.initImageConfigure(),m.initSetProductHeight(),(new Cart).initAddToCart();var y=new Compare;y.initCompareSaveProductId(),y.initCompareChecked();var w=new Wishlist;w.initWishlistSaveProductId(),w.initWishlistChecked(),window.ias&&(window.ias.reinitialize(),window.ias.itemsContainerSelector="."+n,window.ias.paginationSelector="."+n+" .pagination",window.iasTrigger&&window.iasTrigger.$triggerNext&&(window.iasTrigger.$triggerNext.remove(),window.iasTrigger.$triggerNext=null))},InfiniteScroll.prototype.initLoadMore=function(t){window.ias=jQuery.ias({container:"."+t,item:".grid-item",pagination:"."+t+" .pagination",next:".next a"}),window.ias.extension(new IASSpinnerExtension({}));var i=0;window.ias.on("render",function(){i=$(".tp-des-top").length}),window.ias.on("rendered",function(t){var e=new ImageShopify;e.initImageConfigure(t),(new CountDownShopify).initAll(t),(new Cart).initAddToCart(t);var n=$(".tp-product-grid");setTimeout(function(){"tp-product-grid"===n?e.initSetProductHeightLoadMore(i-1):e.initSetProductHeight()},420)})};