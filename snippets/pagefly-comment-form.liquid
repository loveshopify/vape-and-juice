{% comment %}
This file is auto-generated by PageFly. The content can be overriden with saving. Please do not update directly in this file.
{% endcomment %}
{%- assign new_comment = false -%}{% if comment and comment.created_at %}{%- assign new_comment = true -%}{%- assign new_comment_id = comment.id -%}{% endif %}{% if new_comment %}{%- assign duplicate_comment = false %}{% for comment in article.comments %}{% if comment.id == new_comment_id %}{%- assign duplicate_comment = true %}{% break %}{% endif %}{% endfor %}{% if duplicate_comment %}{%- assign number_of_comments = article.comments_count -%}{% else %}{%- assign number_of_comments = article.comments_count | plus: 1 -%}{% endif %}{% else %}{%- assign number_of_comments = article.comments_count -%}{% endif %}{% capture pagefly_comment %}<p class='pf-comment__author'><span>{{ comment.author }}</span><small>{{ comment.created_at | date: "%b %d, %Y" }}</small></p><div class="pf-comment__content">{{ comment.content }}</div>{% endcapture %}{% if blog.comments_enabled? %}<div class="pf-article__comment"><div class="pf-container">{% if number_of_comments > 0 %}<div class="pf-g pf-comment__list"><div class="pf-c"><h2 class='h3'>{{ 'pagefly.comments.comments_with_count' | t: count: number_of_comments }}</h2>{% paginate article.comments by 5 %}{% comment %}#comments is required, it is used as an anchor link by Shopify.{% endcomment %}<div id="comments">{% if new_comment %}<p class="note form-success">{% if blog.moderated? %}{{ 'pagefly.comments.success_moderated' | t }}{% else %}{{ 'pagefly.comments.success' | t }}{% endif %}</p>{% endif %}<ul class="comments">{% comment %}If a comment was just submitted with no blank field, show it.{% endcomment %}{% if new_comment %}{% unless paginate.current_page > 1 %}<li id="{{ comment.id }}" class="comment">{{ pagefly_comment }}</li>{% endunless %}{% endif %}{% for comment in article.comments %}{% unless comment.id == new_comment_id %}<li id="{{ comment.id }}" class="comment"><p class='pf-comment__author'><span>{{ comment.author }}</span><small>{{ comment.created_at | date: "%b %d, %Y" }}</small></p><div class="pf-comment__content">{{ comment.content }}</div></li>{% endunless %}{% endfor %}</ul>{% if paginate.pages > 1 %}<div class="pf-pagination">{{ paginate | default_pagination | replace: '&laquo; Previous', '&larr;' | replace: 'Next &raquo;', '&rarr;' }}</div>{% endif %}</div>{% endpaginate %}</div></div>{% endif %}<div class="pf-g"><div class="pf-c"><div class="pf-comment__form comment-form">{% form 'new_comment', article %}<h2 class='h3'>{{ 'pagefly.comments.title' | t }}</h2>{{ form.errors | default_errors }}<div class="pf-g pf-g--stackable pf-g--two-columns"><div class="pf-c"><label for='CommentAuthor'>{{ 'pagefly.comments.name' | t }}</label><input type='text' name='comment[author]' id='CommentAuthor' class='input-full{% if form.errors contains 'author' %} input--error{% endif %}' value='{{ form.author }}'></div><div class="pf-c"><label for='CommentEmail'>{{ 'pagefly.comments.email' | t }}</label><input type='email' name='comment[email]' id='CommentEmail' class='input-full{% if form.errors contains 'email' %} input--error{% endif %}' value='{{ form.email }}' autocorrect='off' autocapitalize='off'></div></div><div class="pf-g"><div class="pf-c"><label for='CommentBody'>{{ 'pagefly.comments.message' | t }}</label><textarea name='comment[body]' id='CommentBody' class='input-full{% if form.errors contains 'body' %} input--error{% endif %}'>{{ form.body }}</textarea></div></div><div class="pf-g"><div class="pf-c">{% if blog.moderated? %}<p class='fine-print'>{{ 'pagefly.comments.moderated' | t }}</p>{% endif %}<input type='submit' class='btn' value='{{ 'pagefly.comments.post' | t }}'></div></div>{% endform %}</div></div></div></div></div>{% endif %}